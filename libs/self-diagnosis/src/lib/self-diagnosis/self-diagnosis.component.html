<div class="flex w-full h-full">
  <section class="bg-neutral-lighter basis-1/5 min-w-[28rem] px-8 py-10">
    <header>
      <div class="mb-20">
        <h1 class="font-semibold text-3xl font-body">NA Tools</h1>
      </div>
      <h2 class="mb-8">
        <span
          class="block mb-4 text-base text-neutral-dark-3 font-regular tracking-tight"
          >Survey name</span
        >
        <p
          class="block text-xl font-semibold tracking-normal font-display pb-2"
        >
          Self Diagnosis, index of Digital transformation of the organization
        </p>
      </h2>
    </header>
    <div class="flex justify-center items-center h-80 mb-8">
      <circle-progress
        [percent]="survey?.progress || 0"
        [radius]="100"
        [outerStrokeWidth]="16"
        [innerStrokeWidth]="4"
        [outerStrokeColor]="survey?.completed ? '#307352' : '#0C4A6E'"
        [innerStrokeColor]="survey?.completed ? '#429E70' : '#B6DFF7'"
        [animation]="true"
        [animationDuration]="300"
        titleFontSize="40"
        unitsFontSize="25"
        subtitleFontSize="15"
        titleFontWeight="500"
      ></circle-progress>
    </div>
    <div class="flex space-x-4 h-24">
      <div
        class="border border-neutral flex-auto p-4 flex flex-col justify-between rounded-lg"
      >
        <svg-icon
          src="assets/iconmonstr-help-6.svg"
          class="w-6 h-auto fill-primary"
          [applyClass]="true"
        >
        </svg-icon>
        <div class="flex justify-between items-center">
          <span class="text-neutral-dark-2 text-sm font-semibold"
            >Questions</span
          >
          <span class="text-lg text-primary font-black">{{
            survey?.questionStat?.total
          }}</span>
        </div>
      </div>
      <div
        class="border border-neutral flex-auto p-4 flex flex-col justify-between rounded-lg"
      >
        <svg-icon
          src="assets/iconmonstr-check-mark-8.svg"
          class="w-6 h-auto fill-primary"
          [applyClass]="true"
        >
        </svg-icon>
        <div class="flex justify-between items-center">
          <span class="text-neutral-dark-2 text-sm font-semibold"
            >Responses</span
          >
          <span class="text-lg text-primary font-black">{{
            survey?.questionStat?.amountAnswered
          }}</span>
        </div>
      </div>
    </div>
  </section>

  <section class="flex flex-col bg-neutral-light-2/75 flex-auto px-8 py-10">
    <header class="flex-none pb-10">
      <div class="pb-4">
        <a class="flex items-center space-x-3">
          <div class="bg-primary-light/10 rounded-lg px-3 py-2">
            <svg-icon
              src="assets/left-arrow.svg"
              class="w-4 h-auto fill-primary"
              [applyClass]="true"
            >
            </svg-icon>
          </div>
          <span class="text-primary font-black">Back Home</span>
        </a>
      </div>
      <ng-container *ngIf="!survey?.completed">
        <div class="flex justify-center">
          <div class="flex items-center">
            <span class="pr-3 text-center text-lg font-bold text-primary">{{
              survey?.questionStat?.current
            }}</span>
            <div class="w-px h-full bg-neutral-dark-2"></div>
            <span
              class="pl-3 text-center text-lg font-bold text-neutral-dark-3"
              >{{ survey?.questionStat?.total }}</span
            >
          </div>
        </div>
      </ng-container>
    </header>

    <div class="flex-auto flex flex-col items-center">
      <div class="flex flex-col items-center max-w-2xl space-y-24">
        <ng-container *ngIf="survey?.started && !survey?.completed">
          <div class="flex flex-col h-80 justify-around items-center">
            <div class="inline-flex space-x-2 text-xl font-black">
              <p class="text-primary-dark text-center">
                {{ survey?.currentQuestion?.title }}
              </p>
            </div>

            <p class="text-neutral-dark-3 font-bold">
              Please select one to continue.
            </p>

            <div class="w-full">
              <app-ui-range-selection [(selected)]="currentRate">
              </app-ui-range-selection>

              <div
                class="flex w-full justify-between mt-2 text-neutral-darker font-semibold"
              >
                <span>Not at all</span>
                <span>Absolutely</span>
              </div>
            </div>
          </div>

          <div
            class="self-start w-full flex justify-center flex-wrap space-x-6"
          >
            <button
              class="flex flex-none w-64 justify-center items-center space-x-4 border border-neutral-dark-1 py-4 px-8 rounded-xl text-neutral-dark-2"
              (click)="previousQuestion.emit()"
              [disabled]="survey?.currentQuestion?.isFirst"
            >
              <svg-icon
                src="assets/left-arrow.svg"
                class="w-4 h-auto fill-neutral-dark-2"
                [applyClass]="true"
              >
              </svg-icon>
              <span class="font-semibold">previous</span>
            </button>

            <ng-container
              *ngIf="!survey?.currentQuestion?.isLast; else complete"
            >
              <button
                class="flex flex-none w-64 justify-center items-center space-x-4 bg-primary py-4 px-8 rounded-xl text-neutral-lighter disabled:opacity-75"
                (click)="onNextQuestion()"
                [disabled]="currentRate === 0"
              >
                <span class="font-semibold">NEXT</span>
                <svg-icon
                  src="assets/right-arrow.svg"
                  class="w-4 mr-4 h-auto fill-neutral-lighter"
                  [applyClass]="true"
                >
                </svg-icon>
              </button>
            </ng-container>

            <ng-template #complete>
              <button
                class="flex flex-none w-64 justify-center items-center space-x-4 bg-secondary py-3 px-8 rounded-xl text-neutral-lighter disabled:opacity-75"
                (click)="onCompleteSurvey()"
                [disabled]="currentRate === 0"
              >
                <span class="font-semibold">Complete</span>
                <svg-icon
                  src="assets/right-arrow.svg"
                  class="w-4 mr-4 h-auto fill-neutral-lighter"
                  [applyClass]="true"
                >
                </svg-icon>
              </button>
            </ng-template>
          </div>
        </ng-container>
        <ng-container *ngIf="survey?.completed">
          <app-ui-result [answers]="survey?.list"></app-ui-result>
        </ng-container>
      </div>
    </div>
  </section>
</div>
<!-- <section class="flex w-full h-full">
    <div class="basis-3/4 flex flex-col justify-between">
        <div class="px-10 pt-12 pb-8 flex flex-col space-y-72">
            <header class="w-3/4">
                <h1 class="text-3xl font-semibold tracking-tight font-display">
                    Self Diagnosis</h1>
                <p class="text-xl text-gray-600 font-semibold tracking-tight font-display">Index of Digital
                    transformation of the organization</p>
            </header>

            <ng-container *ngIf="survey?.completed">
                <app-ui-result [answers]="survey?.list"></app-ui-result>
            </ng-container>

            <ng-container *ngIf="survey?.started && !survey?.completed">
                <div class="flex justify-center items-center">
                    <div class="flex flex-col items-center max-w-4xl space-y-12">
                        <div class="inline-flex space-x-2 text-2xl tracking-tight">
                            <span class="font-bold">Q{{ survey?.currentQuestion?.position}}</span>
                            <p class="text-gray-600">{{ survey?.currentQuestion?.title}}</p>
                        </div>

                        <p class="text-center text-gray-600">{{ survey?.currentQuestion?.description}}</p>
                        <div class="w-3/4">
                            <app-ui-range-selection [(selected)]="currentRate">
                            </app-ui-range-selection>

                            <div class="flex w-full justify-between mt-2 text-gray-600 font-semibold">
                                <span>Not at all</span>
                                <span>Absolutely</span>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="!survey?.started">
                <div class="flex justify-center items-center">
                    <div class="flex flex-col items-center space-y-8">
                        <div class="text-2xl tracking-tight">
                            <p class="text-gray-600">{{survey?.introduction}}</p>
                        </div>
                        <button class="inline-block border bg-blue-800 py-3 px-12 rounded-xl"
                            (click)="startSurvey.emit()">
                            <span class="text-xl font-bold text-gray-500 text-white">Start</span>
                        </button>
                    </div>
                </div>
            </ng-container>

        </div>

        <ng-container *ngIf="survey?.started && !survey?.completed">
            <div class="self-start w-full flex justify-between border-t px-10 py-8">
                <button class="flex items-center space-x-2 border border-gray-400 py-3 px-8 rounded-xl text-gray-500"
                    (click)="previousQuestion.emit()" [disabled]="survey?.currentQuestion?.isFirst">
                    <svg-icon src="assets/left-arrow.svg" class="w-4 h-auto fill-gray-500" [applyClass]="true">
                    </svg-icon>
                    <span class="font-semibold">previous</span>
                </button>

                <ng-container *ngIf="!survey?.currentQuestion?.isLast; else complete">
                    <button class="flex items-center space-x-6 bg-blue-800 py-3 px-8 rounded-xl text-white"
                        (click)="onNextQuestion()" [disabled]="currentRate === 0">
                        <span class="font-semibold">NEXT</span>
                        <svg-icon src="assets/right-arrow.svg" class="w-4 mr-4 h-auto fill-white" [applyClass]="true">
                        </svg-icon>
                    </button>
                </ng-container>

                <ng-template #complete>
                    <button class="flex items-center space-x-6 bg-emerald-800 py-3 px-8 rounded-xl text-white"
                        (click)="onCompleteSurvey()" [disabled]="currentRate === 0">
                        <span class="font-semibold">Complete</span>
                        <svg-icon src="assets/right-arrow.svg" class="w-4 mr-4 h-auto fill-white" [applyClass]="true">
                        </svg-icon>
                    </button>
                </ng-template>
            </div>
        </ng-container>

    </div>
    <aside class="basis-1/4 min-w-[30%] bg-sky-50 px-8 py-12 flex flex-col space-y-8">
        <h2 class="text-gray-500 font-semibold text-2xl">Self Diagnosis: Index of Digital transformation of the
            organization</h2>
        <p class="text-gray-500 text-lg">Your score will be shown after the survey</p>

        <div>
            <h3 class="text-gray-600 font-bold text-lg">Questions</h3>
            <span class="text-2xl text-gray-500 font-light">{{ survey?.questionStat?.total}}</span>
        </div>

        <div>
            <h3 class="text-gray-600 font-bold text-lg">Completion time</h3>
            <span class="text-2xl text-gray-500 font-light">{{survey?.completionTime}} mins</span>
        </div>

        <ng-container *ngIf="survey?.started">
            <div>
                <h3 class="text-gray-600 font-bold text-lg">Completion Rate</h3>
                <span class="text-2xl text-gray-500 font-light">{{ survey?.questionStat?.amountAnswered}} / {{
                    survey?.questionStat?.total}}</span>
                <div class="flex justify-center items-center h-80">
                    <circle-progress [percent]="survey?.progress || 0" [radius]="100" [outerStrokeWidth]="16"
                        [innerStrokeWidth]="8" [outerStrokeColor]="'#78C000'" [innerStrokeColor]="'#C7E596'"
                        [animation]="true" [animationDuration]="300"></circle-progress>
                </div>
            </div>
        </ng-container>

    </aside>
</section> -->
